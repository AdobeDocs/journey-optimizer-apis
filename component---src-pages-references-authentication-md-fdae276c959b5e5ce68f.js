"use strict";(self.webpackChunkjourney_optimizer_apis=self.webpackChunkjourney_optimizer_apis||[]).push([[980],{16274:function(e,t,o){o.r(t),o.d(t,{_frontmatter:function(){return l},default:function(){return u}});var n,r=o(87462),a=o(63366),i=(o(15007),o(64983)),s=o(91515),d=["components"],l={},p=(n="InlineAlert",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.mdx)("div",e)}),m={_frontmatter:l},c=s.Z;function u(e){var t=e.components,o=(0,a.Z)(e,d);return(0,i.mdx)(c,(0,r.Z)({},m,o,{components:t,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"adobe-journey-optimizer-apis-authentication"},"Adobe Journey Optimizer APIs Authentication"),(0,i.mdx)("p",null,"Adobe Journey Optimizer API access is set up through the steps below. Each of these steps is detailed in the ",(0,i.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/developer-console/docs/guides/services/"},"Adobe Developer documentation"),"."),(0,i.mdx)(p,{variant:"warning",slots:"header, text1",mdxType:"InlineAlert"},(0,i.mdx)("header",null,"JWT Deprecation Notice"),(0,i.mdx)("text1",null,(0,i.mdx)("p",null,"The JWT method to generate access tokens has been deprecated. All new integrations must be created using the ",(0,i.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/docs/experience-platform/landing/platform-apis/api-authentication.html#select-oauth-server-to-server"},"OAuth Server-to-Server authentication method"),". Adobe also recommends that you migrate your existing integrations to the OAuth method. Read the following important documentation:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://developer.adobe.com/developer-console/docs/guides/authentication/ServerToServerAuthentication/migration/"},"Migration guide for your applications from JWT to OAuth")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://developer.adobe.com/developer-console/docs/guides/authentication/ServerToServerAuthentication/implementation/"},"Implementation guide for new and old applications with OAuth")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://developer.adobe.com/developer-console/docs/guides/authentication/ServerToServerAuthentication/migration/#why-oauth-server-to-server-credentials"},"Advantages of using the OAuth Server-to-Server credentials method"))),(0,i.mdx)("p",null,"To manage certificates in Adobe Developer, make sure you have ",(0,i.mdx)("strong",{parentName:"p"},(0,i.mdx)("em",{parentName:"strong"},"System administrator"))," rights on the organization or a ",(0,i.mdx)("a",{parentName:"p",href:"https://helpx.adobe.com/enterprise/using/manage-developers.html"},"developer account")," in the Admin Console."))),(0,i.mdx)("h2",{id:"prerequisites"},"Prerequisites"),(0,i.mdx)("p",null,"Create a new integration to Adobe Journey Optimizer Service in ",(0,i.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/console"},"Adobe Developer Console")," and configure it. Your credentials will then be generated (API Key, Client secret...)."),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("a",{parentName:"li",href:"https://developer.adobe.com/developer-console/docs/guides/projects/projects-empty"},"Create a new project"),"."),(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("a",{parentName:"li",href:"https://developer.adobe.com/developer-console/docs/guides/services/services-add-api-oauth-s2s"},"Add the AJO API"),".",(0,i.mdx)("br",null),"![](ajoconsole.png)"),(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("a",{parentName:"li",href:"https://experienceleague.adobe.com/en/docs/experience-platform/access-control/abac/permissions-ui/permissions#manage-api-credentials-for-role"},"Add AEP Permissions")," to the ",(0,i.mdx)("em",{parentName:"li"},"role")," that coincides with the ",(0,i.mdx)("em",{parentName:"li"},"product profile")," you included for the AJO API.",(0,i.mdx)("br",null),"![](ajorole.png)")),(0,i.mdx)("h2",{id:"authorization-header"},"Authorization header"),(0,i.mdx)("p",null,"To establish a secure service-to-service Adobe Developer API session, every request to an Adobe service must include in the Authorization header the information below."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},"-X GET https://cjm.adobe.io/imp/ \\\n-H 'Content-Type: application/json' \\\n-H 'Cache-Control: no-cache' \\\n-H 'Authorization: Bearer <ACCESS_TOKEN>' \\\n-H 'X-Api-Key: <API_KEY>' \\\n-H 'x-gw-ims-org-id: <IMS_ORG>'\n")),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("p",{parentName:"li"},(0,i.mdx)("strong",{parentName:"p"},"IMS_ORG"),": This is your personal ORGANIZATION ID, one ORGANIZATION ID is provided by Adobe for each of your instances :"),(0,i.mdx)("p",{parentName:"li"}," To obtain your ORGANIZATION ID value, refer to your administrator or your Adobe technical contact. You can also retrieve it into Adobe Developer when creating a new integration, in the licenses list.")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("p",{parentName:"li"},(0,i.mdx)("strong",{parentName:"p"},"ACCESS_TOKEN"),": Generate an access token in the Adobe Developer Console after creating a new integration to Adobe Journey Optimizer Service.")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("p",{parentName:"li"},(0,i.mdx)("strong",{parentName:"p"},"API_KEY"),": The client id generated by in Adobe Developer Console after creating a new integration to Adobe Journey Optimizer Service."))),(0,i.mdx)("h2",{id:"permissions"},"Permissions"),(0,i.mdx)("p",null,"Ensure that the product profile associated with the API integration has the required permissions for the API you want to call.\nAlso ensure that the ",(0,i.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/docs/experience-platform/landing/platform-apis/api-authentication.html#assign-api-to-a-role"},"AEP role associated with the product profile")," has been give permissions in the AEP Permissions UI."),(0,i.mdx)("p",null,"An administrator can create the product profile in Adobe Admin Console and can also associate the API integration to the product profile."),(0,i.mdx)("p",null,"Depending on the API, different permissions need to be configured:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Capping API"),' needs the "Manage Journeys Events, Data Sources and Action" permission to the targeted sandbox (Capping is configured at sandbox level).'),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Throttling API"),' needs the "Manage Journeys Events, Data Sources and Action" permission to the production sandbox (Throttling can only be configured on the production sandbox)'),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Journey API"),' needs the "Journey Manage" and "Journey View" permissions to the targeted sandbox.')))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-references-authentication-md-fdae276c959b5e5ce68f.js.map